// src/data/agentLiquidity.ts
import type { AgentForecast } from "../types";

/**
 * High-level scenarios that drive the tabs in the Liquidity demo.
 */
export type LiquidityScenarioId = "PAYDAY" | "MARKET_DAY" | "ATM_OUTAGE";

export interface LiquidityScenario {
  id: LiquidityScenarioId;
  label: string; // short tab label
  description: string; // line under the tabs
}

export interface ExtendedAgentForecast extends AgentForecast {
  scenarioId: LiquidityScenarioId;
  areaId: string; // used for the in-visual area legend/filter
  areaLabel: string;
}

/**
 * Three Ghana-realistic demo scenarios.
 */
export const LIQUIDITY_SCENARIOS: LiquidityScenario[] = [
  {
    id: "PAYDAY",
    label: "Payday Friday",
    description:
      "End-of-month salaries hit wallets; Madina–Adenta and Spintex–Tema corridor agents face lunchtime cash-out spikes."
  },
  {
    id: "MARKET_DAY",
    label: "Market day",
    description:
      "Weekly Techiman / Ejura market day; farmers and traders converge and drive 2–3× normal cash-outs at town terminals."
  },
  {
    id: "ATM_OUTAGE",
    label: "ATM outage weekend",
    description:
      "Planned / likely ATM downtime in Tamale CBD pushes customers to MoMo agents around Central, Aboabo and Lamashegu."
  }
];

/**
 * Synthetic but Ghana-realistic agent-level forecasts.
 * All amounts are in GHS.
 */
export const AGENT_FORECASTS: ExtendedAgentForecast[] = [
  // ---------------------------------------------------------------------------
  // Scenario 1 – Payday Friday (Greater Accra)
  // ---------------------------------------------------------------------------
  {
    scenarioId: "PAYDAY",
    areaId: "MADINA_ADENTA",
    areaLabel: "Madina / Adenta corridor",
    forecastDate: "2025-03-28",
    region: "Greater Accra",
    district: "La Nkwantanang-Madina",
    townArea: "Madina Zongo Junction",
    agentId: "GA-1042",
    agentName: "Kwadwo MoMo Kiosk",
    latitude: 5.649,
    longitude: -0.1703,
    weekday: "Friday",
    isPayday: true,
    isMarketDay: false,
    atmOutageRisk: false,
    histAvgCashoutGhs: 5200,
    forecastCashoutGhs: 10500,
    startingFloatGhs: 6000,
    floatShortfallGhs: 4500,
    riskScore: 92,
    riskBand: "Red",
    last30dStockouts: 7,
    recommendation:
      "High payday cash-out expected; recommend +GHS 5,000 float before 08:30.",
    routeClusterId: "ACC_PAYDAY_01",
    routeSequence: 2
  },
  {
    scenarioId: "PAYDAY",
    areaId: "SPINTEX_TEMA",
    areaLabel: "Spintex / Tema corridor",
    forecastDate: "2025-03-28",
    region: "Greater Accra",
    district: "Krowor",
    townArea: "Spintex Baatsona",
    agentId: "GA-2055",
    agentName: "Baatsona Total MoMo",
    latitude: 5.6135,
    longitude: -0.0842,
    weekday: "Friday",
    isPayday: true,
    isMarketDay: false,
    atmOutageRisk: false,
    histAvgCashoutGhs: 5200,
    forecastCashoutGhs: 9800,
    startingFloatGhs: 5800,
    floatShortfallGhs: 4000,
    riskScore: 89,
    riskBand: "Red",
    last30dStockouts: 5,
    recommendation:
      "Payday pattern; last month 27 customers turned away. Top up +GHS 4,000 by 09:00.",
    routeClusterId: "ACC_PAYDAY_01",
    routeSequence: 1
  },
  {
    scenarioId: "PAYDAY",
    areaId: "MADINA_ADENTA",
    areaLabel: "Madina / Adenta corridor",
    forecastDate: "2025-03-28",
    region: "Greater Accra",
    district: "Adenta",
    townArea: "Adenta Barrier",
    agentId: "GA-0971",
    agentName: "Adenta Barrier Agent",
    latitude: 5.6721,
    longitude: -0.176,
    weekday: "Friday",
    isPayday: true,
    isMarketDay: false,
    atmOutageRisk: false,
    histAvgCashoutGhs: 4100,
    forecastCashoutGhs: 6400,
    startingFloatGhs: 5000,
    floatShortfallGhs: 1400,
    riskScore: 73,
    riskBand: "Amber",
    last30dStockouts: 3,
    recommendation:
      "Slight shortfall expected; recommend +GHS 1,500 top-up during morning van run.",
    routeClusterId: "ACC_PAYDAY_01",
    routeSequence: 3
  },
  {
    scenarioId: "PAYDAY",
    areaId: "MADINA_ADENTA",
    areaLabel: "Madina / Adenta corridor",
    forecastDate: "2025-03-28",
    region: "Greater Accra",
    district: "Ga East",
    townArea: "Atomic Junction",
    agentId: "GA-1888",
    agentName: "Atomic Junction MoMo",
    latitude: 5.628,
    longitude: -0.184,
    weekday: "Friday",
    isPayday: true,
    isMarketDay: false,
    atmOutageRisk: false,
    histAvgCashoutGhs: 4800,
    forecastCashoutGhs: 7800,
    startingFloatGhs: 5000,
    floatShortfallGhs: 2800,
    riskScore: 80,
    riskBand: "Amber",
    last30dStockouts: 4,
    recommendation:
      "Payday uplift from nearby offices; add +GHS 3,000 float before 09:00.",
    routeClusterId: "ACC_PAYDAY_01",
    routeSequence: 4
  },
  {
    scenarioId: "PAYDAY",
    areaId: "SPINTEX_TEMA",
    areaLabel: "Spintex / Tema corridor",
    forecastDate: "2025-03-28",
    region: "Greater Accra",
    district: "Tema Metropolitan",
    townArea: "Community 1",
    agentId: "GA-2101",
    agentName: "Comm.1 MTN Shop",
    latitude: 5.6756,
    longitude: -0.0106,
    weekday: "Friday",
    isPayday: true,
    isMarketDay: false,
    atmOutageRisk: false,
    histAvgCashoutGhs: 8200,
    forecastCashoutGhs: 8300,
    startingFloatGhs: 9000,
    floatShortfallGhs: 0,
    riskScore: 34,
    riskBand: "Green",
    last30dStockouts: 0,
    recommendation:
      "Float sufficient for expected demand; use as source hub for rebalancing others.",
    routeClusterId: "ACC_PAYDAY_01",
    routeSequence: 0
  },
  {
    scenarioId: "PAYDAY",
    areaId: "SPINTEX_TEMA",
    areaLabel: "Spintex / Tema corridor",
    forecastDate: "2025-03-28",
    region: "Greater Accra",
    district: "Tema West",
    townArea: "Community 18 / Spintex",
    agentId: "GA-1320",
    agentName: "Comm.18 Roadside Agent",
    latitude: 5.674,
    longitude: -0.036,
    weekday: "Friday",
    isPayday: true,
    isMarketDay: false,
    atmOutageRisk: false,
    histAvgCashoutGhs: 3900,
    forecastCashoutGhs: 7000,
    startingFloatGhs: 6800,
    floatShortfallGhs: 200,
    riskScore: 55,
    riskBand: "Green",
    last30dStockouts: 1,
    recommendation:
      "Minor risk only; include on route if van capacity allows.",
    routeClusterId: "ACC_PAYDAY_01",
    routeSequence: 5
  },

  // ---------------------------------------------------------------------------
  // Scenario 2 – Market day (Bono East / Ashanti)
  // ---------------------------------------------------------------------------
  {
    scenarioId: "MARKET_DAY",
    areaId: "TECHIMAN_TOWN",
    areaLabel: "Techiman town & market",
    forecastDate: "2025-03-25",
    region: "Bono East",
    district: "Techiman Municipal",
    townArea: "Techiman Central Station",
    agentId: "BE-0311",
    agentName: "Techiman Central Agent",
    latitude: 7.5848,
    longitude: -1.938,
    weekday: "Tuesday",
    isPayday: false,
    isMarketDay: true,
    atmOutageRisk: false,
    histAvgCashoutGhs: 3100,
    forecastCashoutGhs: 8200,
    startingFloatGhs: 4000,
    floatShortfallGhs: 4200,
    riskScore: 94,
    riskBand: "Red",
    last30dStockouts: 9,
    recommendation:
      "Market day; high cash-out risk 11:00–15:00. Add +GHS 5,000 float before 10:00.",
    routeClusterId: "TECH_MARKET_01",
    routeSequence: 1
  },
  {
    scenarioId: "MARKET_DAY",
    areaId: "TECHIMAN_TOWN",
    areaLabel: "Techiman town & market",
    forecastDate: "2025-03-25",
    region: "Bono East",
    district: "Techiman Municipal",
    townArea: "Techiman Central Market",
    agentId: "BE-0290",
    agentName: "Market Inside Kiosk",
    latitude: 7.587,
    longitude: -1.9395,
    weekday: "Tuesday",
    isPayday: false,
    isMarketDay: true,
    atmOutageRisk: false,
    histAvgCashoutGhs: 2600,
    forecastCashoutGhs: 6700,
    startingFloatGhs: 3500,
    floatShortfallGhs: 3200,
    riskScore: 88,
    riskBand: "Red",
    last30dStockouts: 6,
    recommendation:
      "Expected 2× normal outflow; schedule mid-day top-up of GHS 3,000.",
    routeClusterId: "TECH_MARKET_01",
    routeSequence: 2
  },
  {
    scenarioId: "MARKET_DAY",
    areaId: "EJURA_AXIS",
    areaLabel: "Ejura / Kasei axis",
    forecastDate: "2025-03-25",
    region: "Ashanti",
    district: "Ejura-Sekyedumase",
    townArea: "Ejura Lorry Park",
    agentId: "BE-0448",
    agentName: "Ejura Lorry Park Agent",
    latitude: 7.3836,
    longitude: -1.373,
    weekday: "Tuesday",
    isPayday: false,
    isMarketDay: true,
    atmOutageRisk: false,
    histAvgCashoutGhs: 2900,
    forecastCashoutGhs: 6700,
    startingFloatGhs: 3000,
    floatShortfallGhs: 3700,
    riskScore: 90,
    riskBand: "Red",
    last30dStockouts: 4,
    recommendation:
      "Ejura market traffic; recommend +GHS 4,000 or second van visit mid-day.",
    routeClusterId: "TECH_MARKET_01",
    routeSequence: 3
  },
  {
    scenarioId: "MARKET_DAY",
    areaId: "TECHIMAN_RURAL",
    areaLabel: "Tuobodom / Aworowa belt",
    forecastDate: "2025-03-25",
    region: "Bono East",
    district: "Techiman North",
    townArea: "Tuobodom town",
    agentId: "BE-0499",
    agentName: "Tuobodom Township Agent",
    latitude: 7.68,
    longitude: -1.95,
    weekday: "Tuesday",
    isPayday: false,
    isMarketDay: true,
    atmOutageRisk: false,
    histAvgCashoutGhs: 2200,
    forecastCashoutGhs: 5100,
    startingFloatGhs: 3200,
    floatShortfallGhs: 1900,
    riskScore: 78,
    riskBand: "Amber",
    last30dStockouts: 3,
    recommendation:
      "Volatile rural demand; align with same van route and top-up +GHS 2,000.",
    routeClusterId: "TECH_MARKET_01",
    routeSequence: 4
  },
  {
    scenarioId: "MARKET_DAY",
    areaId: "EJURA_AXIS",
    areaLabel: "Ejura / Kasei axis",
    forecastDate: "2025-03-25",
    region: "Ashanti",
    district: "Ejura-Sekyedumase",
    townArea: "Kasei roadside",
    agentId: "BE-0523",
    agentName: "Kasei Roadside Agent",
    latitude: 7.38,
    longitude: -1.47,
    weekday: "Tuesday",
    isPayday: false,
    isMarketDay: true,
    atmOutageRisk: false,
    histAvgCashoutGhs: 1800,
    forecastCashoutGhs: 3600,
    startingFloatGhs: 2100,
    floatShortfallGhs: 1500,
    riskScore: 72,
    riskBand: "Amber",
    last30dStockouts: 2,
    recommendation:
      "Moderate risk; include at end of same Techiman/Ejura route.",
    routeClusterId: "TECH_MARKET_01",
    routeSequence: 5
  },
  {
    scenarioId: "MARKET_DAY",
    areaId: "TECHIMAN_RURAL",
    areaLabel: "Tuobodom / Aworowa belt",
    forecastDate: "2025-03-25",
    region: "Bono East",
    district: "Techiman North",
    townArea: "Aworowa",
    agentId: "BE-0550",
    agentName: "Aworowa Junction MoMo",
    latitude: 7.55,
    longitude: -1.96,
    weekday: "Tuesday",
    isPayday: false,
    isMarketDay: true,
    atmOutageRisk: false,
    histAvgCashoutGhs: 1500,
    forecastCashoutGhs: 1700,
    startingFloatGhs: 2000,
    floatShortfallGhs: 0,
    riskScore: 40,
    riskBand: "Green",
    last30dStockouts: 0,
    recommendation:
      "Sufficient float; candidate to act as source agent on quieter weeks.",
    routeClusterId: "TECH_MARKET_01",
    routeSequence: 0
  },

  // ---------------------------------------------------------------------------
  // Scenario 3 – ATM outage weekend (Northern)
  // ---------------------------------------------------------------------------
  {
    scenarioId: "ATM_OUTAGE",
    areaId: "TAMALE_CBD",
    areaLabel: "Tamale CBD / Central",
    forecastDate: "2025-03-29",
    region: "Northern",
    district: "Tamale Metropolitan",
    townArea: "Tamale Central Taxi Rank",
    agentId: "NR-0203",
    agentName: "Tamale Central Taxi Rank",
    latitude: 9.405,
    longitude: -0.8372,
    weekday: "Saturday",
    isPayday: false,
    isMarketDay: false,
    atmOutageRisk: true,
    histAvgCashoutGhs: 5800,
    forecastCashoutGhs: 11500,
    startingFloatGhs: 6000,
    floatShortfallGhs: 5500,
    riskScore: 95,
    riskBand: "Red",
    last30dStockouts: 8,
    recommendation:
      "ATM outage risk; likely shortfall late morning. Add +GHS 6,000 float before 09:30.",
    routeClusterId: "TML_ATM_01",
    routeSequence: 1
  },
  {
    scenarioId: "ATM_OUTAGE",
    areaId: "TAMALE_CBD",
    areaLabel: "Tamale CBD / Central",
    forecastDate: "2025-03-29",
    region: "Northern",
    district: "Tamale Metropolitan",
    townArea: "Aboabo Market",
    agentId: "NR-0179",
    agentName: "Aboabo MoMo Agent",
    latitude: 9.412,
    longitude: -0.8387,
    weekday: "Saturday",
    isPayday: false,
    isMarketDay: false,
    atmOutageRisk: true,
    histAvgCashoutGhs: 5000,
    forecastCashoutGhs: 9200,
    startingFloatGhs: 5200,
    floatShortfallGhs: 4000,
    riskScore: 86,
    riskBand: "Red",
    last30dStockouts: 6,
    recommendation:
      "Spillover from closed ATMs; recommend +GHS 4,000 or temporary cash van in vicinity.",
    routeClusterId: "TML_ATM_01",
    routeSequence: 2
  },
  {
    scenarioId: "ATM_OUTAGE",
    areaId: "LAMASHEGU_SAGNARIGU",
    areaLabel: "Lamashegu / Sagnarigu belt",
    forecastDate: "2025-03-29",
    region: "Northern",
    district: "Tamale Metropolitan",
    townArea: "Lamashegu Junction",
    agentId: "NR-0151",
    agentName: "Lamashegu Junction Agent",
    latitude: 9.3995,
    longitude: -0.831,
    weekday: "Saturday",
    isPayday: false,
    isMarketDay: false,
    atmOutageRisk: true,
    histAvgCashoutGhs: 4300,
    forecastCashoutGhs: 6800,
    startingFloatGhs: 4500,
    floatShortfallGhs: 2300,
    riskScore: 76,
    riskBand: "Amber",
    last30dStockouts: 2,
    recommendation:
      "Moderate risk; align with same van route, top-up +GHS 2,500 if capacity allows.",
    routeClusterId: "TML_ATM_01",
    routeSequence: 3
  },
  {
    scenarioId: "ATM_OUTAGE",
    areaId: "LAMASHEGU_SAGNARIGU",
    areaLabel: "Lamashegu / Sagnarigu belt",
    forecastDate: "2025-03-29",
    region: "Northern",
    district: "Sagnarigu",
    townArea: "Sagnarigu Highway",
    agentId: "NR-0110",
    agentName: "Sagnarigu Highway Agent",
    latitude: 9.25,
    longitude: -0.87,
    weekday: "Saturday",
    isPayday: false,
    isMarketDay: false,
    atmOutageRisk: true,
    histAvgCashoutGhs: 3600,
    forecastCashoutGhs: 5200,
    startingFloatGhs: 4000,
    floatShortfallGhs: 1200,
    riskScore: 70,
    riskBand: "Amber",
    last30dStockouts: 2,
    recommendation:
      "Include on same ATM-outage route; modest +GHS 1,500 float recommended.",
    routeClusterId: "TML_ATM_01",
    routeSequence: 4
  },
  {
    scenarioId: "ATM_OUTAGE",
    areaId: "TAMALE_CBD",
    areaLabel: "Tamale CBD / Central",
    forecastDate: "2025-03-29",
    region: "Northern",
    district: "Tamale Metropolitan",
    townArea: "Bank Square",
    agentId: "NR-0188",
    agentName: "Central Bank Square Agent",
    latitude: 9.409,
    longitude: -0.835,
    weekday: "Saturday",
    isPayday: false,
    isMarketDay: false,
    atmOutageRisk: true,
    histAvgCashoutGhs: 5200,
    forecastCashoutGhs: 5400,
    startingFloatGhs: 6000,
    floatShortfallGhs: 0,
    riskScore: 45,
    riskBand: "Green",
    last30dStockouts: 0,
    recommendation:
      "Well buffered; treat as potential source agent if route needs extra float.",
    routeClusterId: "TML_ATM_01",
    routeSequence: 0
  }
];
